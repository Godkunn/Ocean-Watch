{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Hp\\\\Desktop\\\\ocean-hazard-platform\\\\frontend\\\\src\\\\components\\\\Map.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\n// Fix for default markers in Leaflet\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png'\n});\nconst Map = ({\n  reports,\n  socialPosts\n}) => {\n  _s();\n  const mapRef = useRef(null);\n  const [map, setMap] = useState(null);\n  const [markers, setMarkers] = useState([]);\n  useEffect(() => {\n    if (!map) {\n      const leafletMap = L.map(mapRef.current).setView([20.5937, 78.9629], 5);\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n      }).addTo(leafletMap);\n      setMap(leafletMap);\n    }\n  }, [map]);\n  useEffect(() => {\n    if (!map) return;\n\n    // Clear existing markers\n    markers.forEach(marker => map.removeLayer(marker));\n    const newMarkers = [];\n\n    // Add report markers\n    reports.forEach(report => {\n      if (report.location && report.location.coordinates) {\n        var _report$userId;\n        const marker = L.marker([report.location.coordinates[1], report.location.coordinates[0]]).addTo(map).bindPopup(`\n            <strong>${report.hazardType.replace('_', ' ').toUpperCase()}</strong><br>\n            ${report.description}<br>\n            <small>Reported by: ${((_report$userId = report.userId) === null || _report$userId === void 0 ? void 0 : _report$userId.username) || 'Unknown'}</small>\n          `);\n        newMarkers.push(marker);\n      }\n    });\n\n    // Add social post markers\n    socialPosts.forEach(post => {\n      const marker = L.marker([post.location.latitude, post.location.longitude], {\n        icon: L.icon({\n          iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n          iconSize: [25, 41],\n          iconAnchor: [12, 41],\n          popupAnchor: [1, -34],\n          className: 'social-marker'\n        })\n      }).addTo(map).bindPopup(`\n          <strong>Social Media Post (${post.platform})</strong><br>\n          ${post.text}<br>\n          <small>Posted by: ${post.user}</small>\n        `);\n      newMarkers.push(marker);\n    });\n    setMarkers(newMarkers);\n  }, [map, reports, socialPosts]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: mapRef,\n    style: {\n      height: '500px',\n      width: '100%'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 10\n  }, this);\n};\n_s(Map, \"dsjKOQ3wEynPhzXsspLJ85tOBO8=\");\n_c = Map;\nexport default Map;\nvar _c;\n$RefreshReg$(_c, \"Map\");","map":{"version":3,"names":["React","useEffect","useRef","useState","L","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","Map","reports","socialPosts","_s","mapRef","map","setMap","markers","setMarkers","leafletMap","current","setView","tileLayer","attribution","addTo","forEach","marker","removeLayer","newMarkers","report","location","coordinates","_report$userId","bindPopup","hazardType","replace","toUpperCase","description","userId","username","push","post","latitude","longitude","icon","iconSize","iconAnchor","popupAnchor","className","platform","text","user","ref","style","height","width","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Hp/Desktop/ocean-hazard-platform/frontend/src/components/Map.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport L from 'leaflet';\r\nimport 'leaflet/dist/leaflet.css';\r\n\r\n// Fix for default markers in Leaflet\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\r\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\r\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\r\n});\r\n\r\nconst Map = ({ reports, socialPosts }) => {\r\n  const mapRef = useRef(null);\r\n  const [map, setMap] = useState(null);\r\n  const [markers, setMarkers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (!map) {\r\n      const leafletMap = L.map(mapRef.current).setView([20.5937, 78.9629], 5);\r\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\r\n        attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n      }).addTo(leafletMap);\r\n      setMap(leafletMap);\r\n    }\r\n  }, [map]);\r\n\r\n  useEffect(() => {\r\n    if (!map) return;\r\n\r\n    // Clear existing markers\r\n    markers.forEach(marker => map.removeLayer(marker));\r\n    const newMarkers = [];\r\n\r\n    // Add report markers\r\n    reports.forEach(report => {\r\n      if (report.location && report.location.coordinates) {\r\n        const marker = L.marker([report.location.coordinates[1], report.location.coordinates[0]])\r\n          .addTo(map)\r\n          .bindPopup(`\r\n            <strong>${report.hazardType.replace('_', ' ').toUpperCase()}</strong><br>\r\n            ${report.description}<br>\r\n            <small>Reported by: ${report.userId?.username || 'Unknown'}</small>\r\n          `);\r\n        newMarkers.push(marker);\r\n      }\r\n    });\r\n\r\n    // Add social post markers\r\n    socialPosts.forEach(post => {\r\n      const marker = L.marker([post.location.latitude, post.location.longitude], {\r\n        icon: L.icon({\r\n          iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\r\n          iconSize: [25, 41],\r\n          iconAnchor: [12, 41],\r\n          popupAnchor: [1, -34],\r\n          className: 'social-marker'\r\n        })\r\n      })\r\n        .addTo(map)\r\n        .bindPopup(`\r\n          <strong>Social Media Post (${post.platform})</strong><br>\r\n          ${post.text}<br>\r\n          <small>Posted by: ${post.user}</small>\r\n        `);\r\n      newMarkers.push(marker);\r\n    });\r\n\r\n    setMarkers(newMarkers);\r\n  }, [map, reports, socialPosts]);\r\n\r\n  return <div ref={mapRef} style={{ height: '500px', width: '100%' }} />;\r\n};\r\n\r\nexport default Map;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}