{"ast":null,"code":"import _objectSpread from\"C:/Users/Hp/Desktop/ocean-hazard-platform/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SocialFeed=_ref=>{let{posts,token}=_ref;const[keyword,setKeyword]=useState('');const[analyzedPosts,setAnalyzedPosts]=useState([]);const analyzePost=async post=>{try{const response=await fetch('http://localhost:5000/api/social/analyze',{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)},body:JSON.stringify({text:post.text})});const analysis=await response.json();return _objectSpread(_objectSpread({},post),{},{analysis});}catch(error){console.error('Error analyzing post:',error);return _objectSpread(_objectSpread({},post),{},{analysis:{sentiment:'unknown',keywords:[],urgency:'unknown'}});}};const handleAnalyzeAll=async()=>{const analyzed=await Promise.all(posts.map(analyzePost));setAnalyzedPosts(analyzed);};const handleKeywordSearch=async()=>{try{const response=await fetch(\"http://localhost:5000/api/social/posts?keyword=\".concat(keyword),{headers:{'Authorization':\"Bearer \".concat(token)}});const filteredPosts=await response.json();setAnalyzedPosts(filteredPosts);}catch(error){console.error('Error searching posts:',error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"social-feed\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Social Media Analytics\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"keyword-search\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search for keywords...\",value:keyword,onChange:e=>setKeyword(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleKeywordSearch,children:\"Search\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAnalyzeAll,children:\"Analyze All Posts\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"posts-list\",children:analyzedPosts.length>0?analyzedPosts.map(post=>{var _post$analysis;return/*#__PURE__*/_jsxs(\"div\",{className:\"post \".concat((_post$analysis=post.analysis)===null||_post$analysis===void 0?void 0:_post$analysis.sentiment),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"post-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"platform\",children:post.platform}),/*#__PURE__*/_jsxs(\"span\",{className:\"user\",children:[\"@\",post.user]}),/*#__PURE__*/_jsx(\"span\",{className:\"timestamp\",children:new Date(post.timestamp).toLocaleString()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"post-content\",children:/*#__PURE__*/_jsx(\"p\",{children:post.text})}),post.analysis&&/*#__PURE__*/_jsxs(\"div\",{className:\"post-analysis\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sentiment \".concat(post.analysis.sentiment),children:[\"Sentiment: \",post.analysis.sentiment]}),/*#__PURE__*/_jsxs(\"div\",{className:\"urgency\",children:[\"Urgency: \",post.analysis.urgency]}),/*#__PURE__*/_jsxs(\"div\",{className:\"keywords\",children:[\"Keywords: \",post.analysis.keywords.join(', ')]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"post-location\",children:[\"Location: \",post.location.latitude.toFixed(4),\", \",post.location.longitude.toFixed(4)]})]},post.id);}):posts.map(post=>/*#__PURE__*/_jsxs(\"div\",{className:\"post\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"post-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"platform\",children:post.platform}),/*#__PURE__*/_jsxs(\"span\",{className:\"user\",children:[\"@\",post.user]}),/*#__PURE__*/_jsx(\"span\",{className:\"timestamp\",children:new Date(post.timestamp).toLocaleString()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"post-content\",children:/*#__PURE__*/_jsx(\"p\",{children:post.text})}),/*#__PURE__*/_jsxs(\"div\",{className:\"post-location\",children:[\"Location: \",post.location.latitude.toFixed(4),\", \",post.location.longitude.toFixed(4)]})]},post.id))})]});};export default SocialFeed;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","SocialFeed","_ref","posts","token","keyword","setKeyword","analyzedPosts","setAnalyzedPosts","analyzePost","post","response","fetch","method","headers","concat","body","JSON","stringify","text","analysis","json","_objectSpread","error","console","sentiment","keywords","urgency","handleAnalyzeAll","analyzed","Promise","all","map","handleKeywordSearch","filteredPosts","className","children","type","placeholder","value","onChange","e","target","onClick","length","_post$analysis","platform","user","Date","timestamp","toLocaleString","join","location","latitude","toFixed","longitude","id"],"sources":["C:/Users/Hp/Desktop/ocean-hazard-platform/frontend/src/components/SocialFeed.js"],"sourcesContent":["import React, { useState } from 'react';\r\n\r\nconst SocialFeed = ({ posts, token }) => {\r\n  const [keyword, setKeyword] = useState('');\r\n  const [analyzedPosts, setAnalyzedPosts] = useState([]);\r\n\r\n  const analyzePost = async (post) => {\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/social/analyze', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${token}`\r\n        },\r\n        body: JSON.stringify({ text: post.text })\r\n      });\r\n      \r\n      const analysis = await response.json();\r\n      return { ...post, analysis };\r\n    } catch (error) {\r\n      console.error('Error analyzing post:', error);\r\n      return { ...post, analysis: { sentiment: 'unknown', keywords: [], urgency: 'unknown' } };\r\n    }\r\n  };\r\n\r\n  const handleAnalyzeAll = async () => {\r\n    const analyzed = await Promise.all(posts.map(analyzePost));\r\n    setAnalyzedPosts(analyzed);\r\n  };\r\n\r\n  const handleKeywordSearch = async () => {\r\n    try {\r\n      const response = await fetch(`http://localhost:5000/api/social/posts?keyword=${keyword}`, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n      \r\n      const filteredPosts = await response.json();\r\n      setAnalyzedPosts(filteredPosts);\r\n    } catch (error) {\r\n      console.error('Error searching posts:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"social-feed\">\r\n      <h2>Social Media Analytics</h2>\r\n      \r\n      <div className=\"controls\">\r\n        <div className=\"keyword-search\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search for keywords...\"\r\n            value={keyword}\r\n            onChange={(e) => setKeyword(e.target.value)}\r\n          />\r\n          <button onClick={handleKeywordSearch}>Search</button>\r\n        </div>\r\n        \r\n        <button onClick={handleAnalyzeAll}>Analyze All Posts</button>\r\n      </div>\r\n      \r\n      <div className=\"posts-list\">\r\n        {analyzedPosts.length > 0 ? (\r\n          analyzedPosts.map(post => (\r\n            <div key={post.id} className={`post ${post.analysis?.sentiment}`}>\r\n              <div className=\"post-header\">\r\n                <span className=\"platform\">{post.platform}</span>\r\n                <span className=\"user\">@{post.user}</span>\r\n                <span className=\"timestamp\">{new Date(post.timestamp).toLocaleString()}</span>\r\n              </div>\r\n              \r\n              <div className=\"post-content\">\r\n                <p>{post.text}</p>\r\n              </div>\r\n              \r\n              {post.analysis && (\r\n                <div className=\"post-analysis\">\r\n                  <div className={`sentiment ${post.analysis.sentiment}`}>\r\n                    Sentiment: {post.analysis.sentiment}\r\n                  </div>\r\n                  <div className=\"urgency\">\r\n                    Urgency: {post.analysis.urgency}\r\n                  </div>\r\n                  <div className=\"keywords\">\r\n                    Keywords: {post.analysis.keywords.join(', ')}\r\n                  </div>\r\n                </div>\r\n              )}\r\n              \r\n              <div className=\"post-location\">\r\n                Location: {post.location.latitude.toFixed(4)}, {post.location.longitude.toFixed(4)}\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          posts.map(post => (\r\n            <div key={post.id} className=\"post\">\r\n              <div className=\"post-header\">\r\n                <span className=\"platform\">{post.platform}</span>\r\n                <span className=\"user\">@{post.user}</span>\r\n                <span className=\"timestamp\">{new Date(post.timestamp).toLocaleString()}</span>\r\n              </div>\r\n              \r\n              <div className=\"post-content\">\r\n                <p>{post.text}</p>\r\n              </div>\r\n              \r\n              <div className=\"post-location\">\r\n                Location: {post.location.latitude.toFixed(4)}, {post.location.longitude.toFixed(4)}\r\n              </div>\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SocialFeed;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}